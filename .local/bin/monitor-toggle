#!/bin/bash
# Auto-disable laptop display when external is connected

LAPTOP="eDP-1"

# Check if any external monitor (DP-* or HDMI-*) is connected
if hyprctl monitors | grep -qE "^Monitor (DP|HDMI)-"; then
    # External connected - disable laptop
    hyprctl keyword monitor "$LAPTOP,disable"
    echo "External connected: laptop display disabled"
else
    # External disconnected - enable laptop at preferred mode
    hyprctl keyword monitor "$LAPTOP,preferred,auto,auto"
    echo "External disconnected: laptop display enabled"
fi
